<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://fonts.googleapis.com/css?family=Roboto:300i,400,500,700,900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="ion.rangeSlider.min.css">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="media.css">


	<title> </title>
</head>

<body>
	<div class="container-calc-out">
		<div class="container-calc">
			<div class="container-calc-inner">
				<div class="sale-yellow">
					<div class="saleyellow-text">Ваша скидка: <span>0 %</span>
						<div class="arrow-animated"><img src="img/smal-arrows.svg" alt=""></div>
					</div>
				</div>
				<p class="title-top-line">Узнайте стоимость ремонта квартиры + получите СКИДКУ на ремонт 15% +
					дизайн-проект</p>
				<div class="calc-content">
					<div class="col-calc-content">
						<div class="title-text">Где необходимо делать ремонт?</div>
						<div class="radiobox-w">
							<div class="radiobox-w-inner step-1-inputs">
								<label class="label-s1" for="novos-bez-ottdel">
									<img src="img/novostroy-bez-otdelki.png" alt="">
									<div class="radio-text">Новостройка<br>без отделки</div>
									<input type="radio" id="novos-bez-ottdel" name="new-b-o">
									<div class="checked-boll">
										<div class="check-inner"></div>
									</div>
								</label>

								<label class="label-s1" for="novos-bez-ottdel2">
									<img src="img/predchist-otdelka.png" alt="">
									<div class="radio-text">Предчистовая
										<br>«белая» отделка</div>
									<input type="radio" id="novos-bez-ottdel2" name="new-b-o">
									<div class="checked-boll">
										<div class="check-inner"></div>
									</div>
								</label>

								<label class="label-s1" for="novos-bez-ottdel3">
									<img src="img/vtor-fond.png" alt="">
									<div class="radio-text">Квартира во
										<br>вторичном фонде</div>
									<input type="radio" id="novos-bez-ottdel3" name="new-b-o">
									<div class="checked-boll">
										<div class="check-inner"></div>
									</div>
								</label>
							</div>

							<div class="radiobox-w-inner step-2-inputs d-none">
								<div class="s2-radio-w">
										    <label class="label-s2" for="pod-cl">
												<div class="bol-uncheck"></div>
												<input type="radio" id="pod-cl" name="pod-cl11">
												<div class="radio-text">Квартира «под ключ»</div>
												
											</label>
			
											<label class="label-s2" for="komnata">
											    <div class="bol-uncheck"></div>
												<input type="radio" id="komnata" name="komnata-n">
												<div class="radio-text">Комната</div>
											</label>
			
											<label class="label-s2" for="vanna">
												<div class="bol-uncheck"></div>
												<input type="radio" id="vanna" name="vanna-n">
												<div class="radio-text">Ванная комната</div>
											</label>
			
											<label class="label-s2" for="dom">
												<div class="bol-uncheck"></div>
												<input type="radio" id="dom" name="dom-name">
												
												<div class="radio-text">Дом</div>
											</label>
								</div>


								<div class="sqw-w">
										<div class="title-text2">Какая общая площадь всех помещений?</div>
										<div class="slider-out-w">
											<div class="sliser-w">
												<div class="slidecontainer">
													<input type="text" class="js-range-slider" name="my_range" />
												</div>
											</div>
											<div class="slider-inp">
												<input id="demo" type="number" name="square" min="20" max="150" value="50"><span>м<sup>2</sup></span>
											</div>
										</div>
								</div>
							</div>
							<div class="radiobox-w-inner step-3-inputs d-none">
									<label class="label-s3" for="novos-bez-ottdel">
											<img src="img/novostroy-bez-otdelki.png" alt="">
											<div class="radio-text">Новостройка<br>без отделки</div>
											<input type="radio" id="novos-bez-ottdel" name="new-b-o">
											<div class="checked-boll">
												<div class="check-inner"></div>
											</div>
										</label>
		
										<label class="label-s3" for="novos-bez-ottdel2">
											<img src="img/predchist-otdelka.png" alt="">
											<div class="radio-text">Предчистовая
												<br>«белая» отделка</div>
											<input type="radio" id="novos-bez-ottdel2" name="new-b-o">
											<div class="checked-boll">
												<div class="check-inner"></div>
											</div>
										</label>
		
										<label class="label-s3" for="novos-bez-ottdel3">
											<img src="img/vtor-fond.png" alt="">
											<div class="radio-text">Квартира во
												<br>вторичном фонде</div>
											<input type="radio" id="novos-bez-ottdel3" name="new-b-o">
											<div class="checked-boll">
												<div class="check-inner"></div>
											</div>
										</label>
							</div>

						</div>
						<div class="calc-content-bottom">
							<div class="line-indikator-w">
								<span>0%</span>
								<div class="line-i">
									<div class="progress-color ">
										<div class="ine-color"></div>
									</div>

								</div>
							</div>
							<div class="buttons-w">
								<div class="btn-back"><img src="img/arrow-before.svg" alt=""></div>
								<button class="btn-next after">ДАЛЕЕ<img src="img/arrow-next.svg" alt=""></button>
							</div>
						</div>
					</div>
					<div class="col-info">
						<div class="col-info-text">Выбранные параметры ремонта:</div>
						<div class="parm-rem-img-w">
							<img class="chenged-img" src="img/novostroy-bez-otdelki.png" alt="">
						</div>
						<div class="dir-info-w">
							<div class="dir-inner">
								<img src="img/specialist.png" alt="">
								<div class="dir-name">Александр<br>Малышев</div>
								<div class="dir-position">Технический<br>директор</div>
							</div>
							<div class="dir-text">
								Зная тип Вашего жилья мы<br>
								сможем точнее понимать <br>
								какие работы и в каком <br>
								объёме нужно провести <br>
								для того, чтобы придать <br>
								квартире желаемый вид <br>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>





	<script src="https://code.jquery.com/jquery-3.4.1.min.js"
		integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="ion.rangeSlider.min.js"></script>
	<script>
	$('input[type="range"]').on('input', function () {  });
		//progress barr change
function progressbar (persent){
	$('.progress-color').attr('style', 'width:'+persent+'%');
	$('.calc-content-bottom span').text(persent+'%');
}
//change img 
function changeimg (label){
	var imgcheck = label.find('img').attr('src');				
				$('.chenged-img').attr('src', imgcheck);
}

function changeTextinp (thistext){
	var blalala = thistext.next().text();
				$('.step2-text-checked').remove();
               $('<div class="step2-text-checked">'+blalala+'</div>').appendTo('.parm-rem-img-w');
}

//animation labels move
function slideAnime(animatedBlock) {	
					$(animatedBlock).addClass('move-animate');	
				}
function doNextStep (hideprevSlide, showNextSlide){
	$(hideprevSlide).addClass('d-none').removeClass('move-animate');
	$(showNextSlide).removeClass('d-none');
}
				
//slide to step-2
function slideToStep2 () {
				setTimeout(slideAnime, 500, ".step-1-inputs");
			    setTimeout(doNextStep, 700, ".step-1-inputs", '.step-2-inputs');
    //button step2 add class
				$('.btn-back').addClass('step-btn-2');
				$('button.after').addClass('step-btn-2');
    //texts step2 change 
				$('.title-text').text('Какой объём работ необходимо выполнить?');
				$('.dir-text').html('Площадь помещений и тип <br> ремонта напрямую влияют <br> на объём работ, а также на <br> необходимое количество <br>черновых и чистовых <br>материалов')
				$('.arrow-animated').addClass('start');
}

		$(".radiobox-w input").click(function () {
			var choothenInput = $(this).parents();
		
			if (choothenInput.hasClass('step-1-inputs')) {
		
				$('.step-1-inputs label').removeClass('step2-checked');
				var step1Label = $(this).parents('label')
				step1Label.addClass('step1-checked');
//change img 
				changeimg(step1Label); 
                 progressbar ('20');
				
				slideToStep2 ();
			}
			else if(choothenInput.hasClass('step-2-inputs')) {
                $('.label-s2').removeClass('step2-checked');
				var step1Labe2 = $(this).parents('label');
				var thistexStep2 = $(this);
				changeTextinp (thistexStep2);
				step1Labe2.addClass('step2-checked');
				progressbar ('40');
			}
		});

$('.btn-next').click(function () {
	var nextCheckbox = $('.radiobox-w-inner');
	if (nextCheckbox.hasClass('step-2-inputs')) {
		setTimeout(slideAnime, 100, ".step-2-inputs");

		setTimeout(doNextStep, 700, '.step-2-inputs','.step-3-inputs');
	}
});

		// Range sloder home top
		$(".js-range-slider").ionRangeSlider({
			type: "single",
			hide_min_max: true,
			keyboard: true,
			min: 0,
			max: 150,
			from: parseInt($('input[name="square"]').val()),
			step: 1,
			grid: true,
			grid_num: 6,
			hide_from_to: true,
			onChange: function (data) {
				$('input[name="square"]').val(data.from);
			}
		});
		var ion_slider = $(".js-range-slider").data("ionRangeSlider");
		$('input[name="square"]').click(function () {
			$(this).val(" ");
		})
		$('input[name="square"]').keyup(function () {
			if ($(this).val() != '') {
				var square_val = parseInt($(this).val());
				if ($(this).val() > 200) {

					$(this).val(200);
				}
			}
			else {
				var square_val = 0;
			}
			ion_slider.update({
				from: square_val
			});
		});


	</script>
</body>

</html>